<style>
    #highscoreContainer {
        position: fixed;
        top: 16px;
        left: 16px;
        bottom: 16px;
        right: 16px;
        z-index: 100;
        display: none;
    }

    #highscore {
        border: none;
        width: 100%;
        height: 100%;
    }

    #highscoreClose {
        position: absolute;
        width: 16px;
        height: 16px;
        background: white;
    }

    #thumbnails {
        position: absolute;
        top: 0;
        z-index: 1;
        left: 0;
        right: 0;
        height: 128px;

        overflow-x: auto;
        overflow-y: hidden;
        white-space: nowrap;

        cursor: pointer;
    }

    img {
        width: 128px;
    }
</style>

<div id="thumbnails">
    <img src="../assets/sgr/thumbnail-20210504-205726.099.png" data-sgr="../assets/sgr/pointCloud-20210504-205726.099.sgr"/>
    <img src="../assets/sgr/thumbnail-20210504-214744.546.png" data-sgr="../assets/sgr/pointCloud-20210504-214744.546.sgr"/>
    <img src="../assets/sgr/thumbnail-20210504-233129.665.png" data-sgr="../assets/sgr/pointCloud-20210504-233129.665.sgr"/>
    <img src="../assets/sgr/thumbnail-20210505-024550.055.png" data-sgr="../assets/sgr/pointCloud-20210505-024550.055.sgr"/>
    <img src="../assets/sgr/thumbnail-20210505-024744.917.png" data-sgr="../assets/sgr/pointCloud-20210505-024744.917.sgr"/>
    <img src="../assets/sgr/thumbnail-20210505-025012.665.png" data-sgr="../assets/sgr/pointCloud-20210505-025012.665.sgr"/>
    <img src="../assets/sgr/thumbnail-20210505-025103.954.png" data-sgr="../assets/sgr/pointCloud-20210505-025103.954.sgr"/>
</div>

<div id="highscoreContainer">
    <div id="highscoreClose">x</div>
    <iframe id="highscore" ></iframe>
</div>

<script>
    let container = document.getElementById('highscoreContainer');
    let close = document.getElementById('highscoreClose');
    let frame = document.getElementById("highscore");

    close.addEventListener('click', (event) => {
        container.style.display = 'none';
    });

    let images = document.getElementsByTagName('img');
    for (var i = 0; i < images.length; i++) {

        console.log(images[i]);
        images[i].addEventListener('click', (event) => {
            container.style.display = 'block';

            frame.src = "./highscore/index.html"

            let highScoreWindow = document
                .getElementById("highscore")
                .contentWindow;

            let file = event.target.dataset.sgr;
            let url = window.location + file;
            console.log(url);

            highScoreWindow.postMessage(url);
        });
    }
</script>